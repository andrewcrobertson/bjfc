import{_ as t,h as n,i as r,j as e,k as a,s,l as i,S as o,n as u,E as f,o as c,p as l,q as m,F as v,v as h,u as p,w as d,A as g,G as $,B as y,H as x,I as b,J as N,K as w,c as R,X as T,t as j,r as D,Y as E,Z as I,R as P,$ as S,T as W,a0 as k,D as A,a1 as C,L as F}from"./client.dd89accf.js";import{d as L}from"./players.89d6b8bd.js";import{v as M,i as B,w as V,x as _,t as G,y as U,z as q,A as z,B as H,m as J,C as K,k as O,d as X,u as Y,l as Z}from"./map.6f3acd1c.js";import{f as Q}from"./index.7bfd507b.js";import{j as tt,A as nt,b as rt}from"./theme.0cc6ab67.js";import{P as et}from"./index.6b915b17.js";import"./_baseFindIndex.19a10052.js";import{a as at,t as st}from"./toInteger.c9fab922.js";import{_ as it,b as ot,S as ut,d as ft}from"./index.813d76b5.js";import{c as ct,i as lt}from"./isString.55a4782b.js";var mt=M?M.isConcatSpreadable:void 0;var vt=function(t){return B(t)||V(t)||!!(mt&&t&&t[mt])};var ht=function t(n,r,e,a,s){var i=-1,o=n.length;for(e||(e=vt),s||(s=[]);++i<o;){var u=n[i];r>0&&e(u)?r>1?t(u,r-1,e,a,s):_(s,u):a||(s[s.length]=u)}return s};var pt=function(t){return(null==t?0:t.length)?ht(t,1):[]};var dt=function(){var t=arguments,n=G(t[0]);return t.length<3?n:n.replace(t[1],t[2])};var gt=function(t){return G(t).toLowerCase()};var $t=function(t,n){return!!(null==t?0:t.length)&&it(t,n,0)>-1};var yt=function(t,n,r){for(var e=-1,a=null==t?0:t.length;++e<a;)if(r(n,t[e]))return!0;return!1};var xt=function(){},bt=U&&1/q(new U([,-0]))[1]==1/0?function(t){return new U(t)}:xt;var Nt=function(t,n,r){var e=-1,a=$t,s=t.length,i=!0,o=[],u=o;if(r)i=!1,a=yt;else if(s>=200){var f=n?null:bt(t);if(f)return q(f);i=!1,a=H,u=new z}else u=n?[]:o;t:for(;++e<s;){var c=t[e],l=n?n(c):c;if(c=r||0!==c?c:0,i&&l==l){for(var m=u.length;m--;)if(u[m]===l)continue t;n&&u.push(l),o.push(c)}else a(u,l,r)||(u!==o&&u.push(l),o.push(c))}return o};var wt=function(t){return t&&t.length?Nt(t):[]};const Rt=t=>{if(0===t.length)return"Unknown";const n=t[0];if(1===t.length)return`${n.firstName} ${n.lastName}`;if(t.length>=2){const r=t[1];return n.lastName===r.lastName?n.firstName===r.firstName?`${n.firstName} ${n.lastName}`:`${n.firstName} & ${r.firstName} ${r.lastName}`:`${n.firstName} ${n.lastName} & ${r.firstName} ${r.lastName}`}},Tt=t=>{const n=Q(t.contacts,(({type:t})=>"Guardian"===t)),r=J(n,(({name:t,gender:n})=>({firstName:t.first,lastName:t.last,gender:n}))),e=[t.firstName,t.lastName],a=pt(J(r,(({firstName:t,lastName:n})=>[t,n]))),s=tt(wt(J(ct([...e,...a]),(t=>gt(dt(t,/\s/g,""))))).sort()," ");return{footyWebNumber:t.footyWebNumber,status:t.status,statusInfo:ot(t),initials:t.initials,lastName:t.lastName,firstName:t.firstName,gender:t.gender,guardians:Rt(r),searchTerms:s}};var jt=function(){return K.Date.now()},Dt=Math.max,Et=Math.min;var It=function(t,n,r){var e,a,s,i,o,u,f=0,c=!1,l=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(n){var r=e,s=a;return e=a=void 0,f=n,i=t.apply(s,r)}function h(t){return f=t,o=setTimeout(d,n),c?v(t):i}function p(t){var r=t-u;return void 0===u||r>=n||r<0||l&&t-f>=s}function d(){var t=jt();if(p(t))return g(t);o=setTimeout(d,function(t){var r=n-(t-u);return l?Et(r,s-(t-f)):r}(t))}function g(t){return o=void 0,m&&e?v(t):(e=a=void 0,i)}function $(){var t=jt(),r=p(t);if(e=arguments,a=this,u=t,r){if(void 0===o)return h(u);if(l)return clearTimeout(o),o=setTimeout(d,n),v(u)}return void 0===o&&(o=setTimeout(d,n)),i}return n=at(n)||0,O(r)&&(c=!!r.leading,s=(l="maxWait"in r)?Dt(at(r.maxWait)||0,n):s,m="trailing"in r?!!r.trailing:m),$.cancel=function(){void 0!==o&&clearTimeout(o),f=0,e=u=a=o=void 0},$.flush=function(){return void 0===o?i:g(jt())},$};var Pt=function(t,n){return X(n,(function(n){return t[n]}))};var St=function(t){return null==t?[]:Pt(t,Y(t))},Wt=Math.max;var kt=function(t,n,r,e){t=Z(t)?t:St(t),r=r&&!e?st(r):0;var a=t.length;return r<0&&(r=Wt(a+r,0)),lt(t)?r<=a&&t.indexOf(n,r)>-1:!!a&&it(t,n,r)>-1};function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=n(t);if(e){var i=n(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return r(this,a)}}function Ct(t){var n,r,e,a,s,i,o,R,T;return r=new nt({props:{colour:t[6],initials:t[2],text:t[3]}}),s=new ut({props:{class:"self-end",iconClass:"text-"+t[6]+"-500",status:t[4],text:t[1].statusInfo}}),o=new et({props:{class:"self-end",iconClass:"text-"+t[6]+"-500",text:t[1].guardians}}),{c:function(){n=u("a"),f(r.$$.fragment),e=c(),a=u("span"),f(s.$$.fragment),i=c(),f(o.$$.fragment),this.h()},l:function(t){n=l(t,"A",{class:!0,href:!0});var u=m(n);v(r.$$.fragment,u),e=h(u),a=l(u,"SPAN",{class:!0});var f=m(a);v(s.$$.fragment,f),i=h(f),v(o.$$.fragment,f),f.forEach(p),u.forEach(p),this.h()},h:function(){d(a,"class","flex flex-col text-sm space-y-1"),d(n,"class",R=t[0]+" flex flex-col sm:flex-row sm:justify-between p-2"),d(n,"href",t[5])},m:function(t,u){g(t,n,u),$(r,n,null),y(n,e),y(n,a),$(s,a,null),y(a,i),$(o,a,null),T=!0},p:function(t,r){var e=x(r,1)[0],a={};2&e&&(a.text=t[1].statusInfo),s.$set(a);var i={};2&e&&(i.text=t[1].guardians),o.$set(i),(!T||1&e&&R!==(R=t[0]+" flex flex-col sm:flex-row sm:justify-between p-2"))&&d(n,"class",R)},i:function(t){T||(b(r.$$.fragment,t),b(s.$$.fragment,t),b(o.$$.fragment,t),T=!0)},o:function(t){N(r.$$.fragment,t),N(s.$$.fragment,t),N(o.$$.fragment,t),T=!1},d:function(t){t&&p(n),w(r),w(s),w(o)}}}function Ft(t,n,r){var e,a=n.class,s=void 0===a?"":a,i=n.player,o=i.initials,u="".concat(i.lastName,", ").concat(i.firstName),f=i.status,c=R(i.footyWebNumber),l=null!==(e=rt[i.gender])&&void 0!==e?e:"gray";return t.$$set=function(t){"class"in t&&r(0,s=t.class),"player"in t&&r(1,i=t.player)},[s,i,o,u,f,c,l]}var Lt=function(n){t(u,o);var r=At(u);function u(t){var n;return e(this,u),n=r.call(this),a(i(n),t,Ft,Ct,s,{class:0,player:1}),n}return u}();function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=n(t);if(e){var i=n(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return r(this,a)}}function Bt(t,n,r){var e=t.slice();return e[6]=n[r],e[8]=r,e}function Vt(t){var n,r;return{c:function(){n=u("p"),r=j("No players match your current search"),this.h()},l:function(t){n=l(t,"P",{class:!0});var e=m(n);r=D(e,"No players match your current search"),e.forEach(p),this.h()},h:function(){d(n,"class","text-sm p-4")},m:function(t,e){g(t,n,e),y(n,r)},d:function(t){t&&p(n)}}}function _t(t,n){var r,e,a;return e=new Lt({props:{class:"w-full "+(0===n[8]?"border-t":"")+" border-r border-b border-l border-gray-300",player:n[6]}}),{key:t,first:null,c:function(){r=T(),f(e.$$.fragment),this.h()},l:function(t){r=T(),v(e.$$.fragment,t),this.h()},h:function(){this.first=r},m:function(t,n){g(t,r,n),$(e,t,n),a=!0},p:function(t,n){var r={};2&n&&(r.class="w-full "+(0===t[8]?"border-t":"")+" border-r border-b border-l border-gray-300"),2&n&&(r.player=t[6]),e.$set(r)},i:function(t){a||(b(e.$$.fragment,t),a=!0)},o:function(t){N(e.$$.fragment,t),a=!1},d:function(t){t&&p(r),w(e,t)}}}function Gt(t){for(var n,r,e,a,s,i,o,f,v,$,w,R=[],T=new Map,A=t[1],F=function(t){return t[6].footyWebNumber},L=0;L<A.length;L+=1){var M=Bt(t,A,L),B=F(M);T.set(B,R[L]=_t(B,M))}var V=null;return A.length||(V=Vt()),{c:function(){n=u("div"),r=u("div"),e=u("label"),a=j("Find Players"),s=c(),i=u("input"),o=c(),f=u("div");for(var t=0;t<R.length;t+=1)R[t].c();V&&V.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var u=m(n);r=l(u,"DIV",{class:!0});var c=m(r);e=l(c,"LABEL",{class:!0,for:!0});var v=m(e);a=D(v,"Find Players"),v.forEach(p),s=h(c),i=l(c,"INPUT",{class:!0,type:!0,name:!0,id:!0}),c.forEach(p),o=h(u),f=l(u,"DIV",{class:!0});for(var d=m(f),g=0;g<R.length;g+=1)R[g].l(d);V&&V.l(d),d.forEach(p),u.forEach(p),this.h()},h:function(){d(e,"class","text-lg text-grey-darkest"),d(e,"for","searchTerm"),d(i,"class","border text-grey-darkest py-2 px-3"),d(i,"type","text"),d(i,"name","searchTerm"),d(i,"id","searchTerm"),d(r,"class","flex flex-col mb-4"),d(f,"class","flex flex-wrap"),d(n,"class","container mx-auto xl:py-10")},m:function(u,c){g(u,n,c),y(n,r),y(r,e),y(e,a),y(r,s),y(r,i),E(i,t[0]),y(n,o),y(n,f);for(var l=0;l<R.length;l+=1)R[l].m(f,null);V&&V.m(f,null),v=!0,$||(w=[I(i,"input",t[4]),I(i,"input",t[2])],$=!0)},p:function(t,n){var r=x(n,1)[0];if(1&r&&i.value!==t[0]&&E(i,t[0]),2&r){var e=t[1];P(),R=S(R,r,F,1,t,e,T,f,C,_t,null,Bt),W(),e.length?V&&(V.d(1),V=null):V||((V=Vt()).c(),V.m(f,null))}},i:function(t){if(!v){for(var n=0;n<A.length;n+=1)b(R[n]);v=!0}},o:function(t){for(var n=0;n<R.length;n+=1)N(R[n]);v=!1},d:function(t){t&&p(n);for(var r=0;r<R.length;r+=1)R[r].d();V&&V.d(),$=!1,k(w)}}}function Ut(t,n,r){var e=n.state,a="",s=[],i=It((function(){return r(1,(t=gt(ft(a)),s=t.length<2?[]:Q(e.players,(function(n){var r=n.searchTerms;return kt(r,t)}))));var t}),250,{maxWait:1e3});return A.set("Search"),t.$$set=function(t){"state"in t&&r(3,e=t.state)},[a,s,i,e,function(){a=this.value,r(0,a)}]}var qt=function(n){t(u,o);var r=Mt(u);function u(t){var n;return e(this,u),n=r.call(this),a(i(n),t,Ut,Gt,s,{state:3}),n}return u}();function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=n(t);if(e){var i=n(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return r(this,a)}}function Ht(t){var n,r;return n=new qt({props:{state:t[0]}}),{c:function(){f(n.$$.fragment)},l:function(t){v(n.$$.fragment,t)},m:function(t,e){$(n,t,e),r=!0},p:function(t,r){var e={};1&x(r,1)[0]&&(e.state=t[0]),n.$set(e)},i:function(t){r||(b(n.$$.fragment,t),r=!0)},o:function(t){N(n.$$.fragment,t),r=!1},d:function(t){w(n,t)}}}function Jt(t,n){return{state:{players:J(Q(L,(({status:t})=>"Insured"===t||"Registered"===t||"Recent"===t)),Tt)}}}function Kt(t,n,r){var e=n.state,a=void 0===e?null:e;return F((function(){return window.scrollTo(0,0)})),t.$$set=function(t){"state"in t&&r(0,a=t.state)},[a]}var Ot=function(n){t(u,o);var r=zt(u);function u(t){var n;return e(this,u),n=r.call(this),a(i(n),t,Kt,Ht,s,{state:0}),n}return u}();export default Ot;export{Jt as preload};
