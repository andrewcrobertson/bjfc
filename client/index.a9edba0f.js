import{S as t,i as e,s as r,h as a,z as s,j as n,k as l,l as o,A as i,o as f,n as u,p as c,v as m,B as d,w as h,C as p,D as g,E as $,c as v,N as x,t as y,m as b,O as N,P as w,I as T,Q as j,J as E,R as I,y as P,T as W,F as k}from"./client.40ef246f.js";import{d as A}from"./players.89d6b8bd.js";import{v as C,i as S,w as D,x as F,t as M,y as B,z as L,A as R,B as V,m as z,C as O,k as U,d as _,u as G,l as J}from"./map.0e755dd5.js";import{f as Q}from"./index.48b38ad4.js";import{j as q,A as H,b as K}from"./theme.d43d054b.js";import{P as X}from"./index.b8c5bcea.js";import"./_baseFindIndex.6ee7d5bf.js";import{a as Y,t as Z}from"./toInteger.78ad547d.js";import{_ as tt,b as et,S as rt,d as at}from"./index.b76f839c.js";import{c as st,i as nt}from"./isString.a90ec20d.js";var lt=C?C.isConcatSpreadable:void 0;var ot=function(t){return S(t)||D(t)||!!(lt&&t&&t[lt])};var it=function t(e,r,a,s,n){var l=-1,o=e.length;for(a||(a=ot),n||(n=[]);++l<o;){var i=e[l];r>0&&a(i)?r>1?t(i,r-1,a,s,n):F(n,i):s||(n[n.length]=i)}return n};var ft=function(t){return(null==t?0:t.length)?it(t,1):[]};var ut=function(){var t=arguments,e=M(t[0]);return t.length<3?e:e.replace(t[1],t[2])};var ct=function(t){return M(t).toLowerCase()};var mt=function(t,e){return!!(null==t?0:t.length)&&tt(t,e,0)>-1};var dt=function(t,e,r){for(var a=-1,s=null==t?0:t.length;++a<s;)if(r(e,t[a]))return!0;return!1};var ht=function(){},pt=B&&1/L(new B([,-0]))[1]==1/0?function(t){return new B(t)}:ht;var gt=function(t,e,r){var a=-1,s=mt,n=t.length,l=!0,o=[],i=o;if(r)l=!1,s=dt;else if(n>=200){var f=e?null:pt(t);if(f)return L(f);l=!1,s=V,i=new R}else i=e?[]:o;t:for(;++a<n;){var u=t[a],c=e?e(u):u;if(u=r||0!==u?u:0,l&&c==c){for(var m=i.length;m--;)if(i[m]===c)continue t;e&&i.push(c),o.push(u)}else s(i,c,r)||(i!==o&&i.push(c),o.push(u))}return o};var $t=function(t){return t&&t.length?gt(t):[]};const vt=t=>{if(0===t.length)return"Unknown";const e=t[0];if(1===t.length)return`${e.firstName} ${e.lastName}`;if(t.length>=2){const r=t[1];return e.lastName===r.lastName?e.firstName===r.firstName?`${e.firstName} ${e.lastName}`:`${e.firstName} & ${r.firstName} ${r.lastName}`:`${e.firstName} ${e.lastName} & ${r.firstName} ${r.lastName}`}},xt=t=>{const e=Q(t.contacts,(({type:t})=>"Guardian"===t)),r=z(e,(({name:t,gender:e})=>({firstName:t.first,lastName:t.last,gender:e}))),a=[t.firstName,t.lastName],s=ft(z(r,(({firstName:t,lastName:e})=>[t,e]))),n=q($t(z(st([...a,...s]),(t=>ct(ut(t,/\s/g,""))))).sort()," ");return{footyWebNumber:t.footyWebNumber,status:t.status,statusInfo:et(t),initials:t.initials,lastName:t.lastName,firstName:t.firstName,gender:t.gender,guardians:vt(r),searchTerms:n}};var yt=function(){return O.Date.now()},bt=Math.max,Nt=Math.min;var wt=function(t,e,r){var a,s,n,l,o,i,f=0,u=!1,c=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var r=a,n=s;return a=s=void 0,f=e,l=t.apply(n,r)}function h(t){return f=t,o=setTimeout(g,e),u?d(t):l}function p(t){var r=t-i;return void 0===i||r>=e||r<0||c&&t-f>=n}function g(){var t=yt();if(p(t))return $(t);o=setTimeout(g,function(t){var r=e-(t-i);return c?Nt(r,n-(t-f)):r}(t))}function $(t){return o=void 0,m&&a?d(t):(a=s=void 0,l)}function v(){var t=yt(),r=p(t);if(a=arguments,s=this,i=t,r){if(void 0===o)return h(i);if(c)return clearTimeout(o),o=setTimeout(g,e),d(i)}return void 0===o&&(o=setTimeout(g,e)),l}return e=Y(e)||0,U(r)&&(u=!!r.leading,n=(c="maxWait"in r)?bt(Y(r.maxWait)||0,e):n,m="trailing"in r?!!r.trailing:m),v.cancel=function(){void 0!==o&&clearTimeout(o),f=0,a=i=s=o=void 0},v.flush=function(){return void 0===o?l:$(yt())},v};var Tt=function(t,e){return _(e,(function(e){return t[e]}))};var jt=function(t){return null==t?[]:Tt(t,G(t))},Et=Math.max;var It=function(t,e,r,a){t=J(t)?t:jt(t),r=r&&!a?Z(r):0;var s=t.length;return r<0&&(r=Et(s+r,0)),nt(t)?r<=s&&t.indexOf(e,r)>-1:!!s&&tt(t,e,r)>-1};function Pt(t){let e,r,v,x,y,b,N,w,T;return r=new H({props:{colour:t[6],initials:t[2],text:t[3]}}),y=new rt({props:{class:"self-end",iconClass:"text-"+t[6]+"-500",status:t[4],text:t[1].statusInfo}}),N=new X({props:{class:"self-end",iconClass:"text-"+t[6]+"-500",text:t[1].guardians}}),{c(){e=a("a"),s(r.$$.fragment),v=n(),x=a("span"),s(y.$$.fragment),b=n(),s(N.$$.fragment),this.h()},l(t){e=l(t,"A",{class:!0,href:!0});var a=o(e);i(r.$$.fragment,a),v=f(a),x=l(a,"SPAN",{class:!0});var s=o(x);i(y.$$.fragment,s),b=f(s),i(N.$$.fragment,s),s.forEach(u),a.forEach(u),this.h()},h(){c(x,"class","flex flex-col text-sm space-y-1"),c(e,"class",w=t[0]+" flex flex-col sm:flex-row sm:justify-between p-2"),c(e,"href",t[5])},m(t,a){m(t,e,a),d(r,e,null),h(e,v),h(e,x),d(y,x,null),h(x,b),d(N,x,null),T=!0},p(t,[r]){const a={};2&r&&(a.text=t[1].statusInfo),y.$set(a);const s={};2&r&&(s.text=t[1].guardians),N.$set(s),(!T||1&r&&w!==(w=t[0]+" flex flex-col sm:flex-row sm:justify-between p-2"))&&c(e,"class",w)},i(t){T||(p(r.$$.fragment,t),p(y.$$.fragment,t),p(N.$$.fragment,t),T=!0)},o(t){g(r.$$.fragment,t),g(y.$$.fragment,t),g(N.$$.fragment,t),T=!1},d(t){t&&u(e),$(r),$(y),$(N)}}}function Wt(t,e,r){var a;let{class:s=""}=e,{player:n}=e;const l=n.initials,o=`${n.lastName}, ${n.firstName}`,i=n.status,f=v(n.footyWebNumber),u=null!==(a=K[n.gender])&&void 0!==a?a:"gray";return t.$$set=t=>{"class"in t&&r(0,s=t.class),"player"in t&&r(1,n=t.player)},[s,n,l,o,i,f,u]}class kt extends t{constructor(t){super(),e(this,t,Wt,Pt,r,{class:0,player:1})}}function At(t,e,r){const a=t.slice();return a[6]=e[r],a[8]=r,a}function Ct(t){let e,r;return{c(){e=a("p"),r=y("No players match your current search"),this.h()},l(t){e=l(t,"P",{class:!0});var a=o(e);r=b(a,"No players match your current search"),a.forEach(u),this.h()},h(){c(e,"class","text-sm p-4")},m(t,a){m(t,e,a),h(e,r)},d(t){t&&u(e)}}}function St(t,e){let r,a,n;return a=new kt({props:{class:"w-full "+(0===e[8]?"border-t":"")+" border-r border-b border-l border-gray-300",player:e[6]}}),{key:t,first:null,c(){r=x(),s(a.$$.fragment),this.h()},l(t){r=x(),i(a.$$.fragment,t),this.h()},h(){this.first=r},m(t,e){m(t,r,e),d(a,t,e),n=!0},p(t,e){const r={};2&e&&(r.class="w-full "+(0===t[8]?"border-t":"")+" border-r border-b border-l border-gray-300"),2&e&&(r.player=t[6]),a.$set(r)},i(t){n||(p(a.$$.fragment,t),n=!0)},o(t){g(a.$$.fragment,t),n=!1},d(t){t&&u(r),$(a,t)}}}function Dt(t){let e,r,s,i,d,$,v,x,P,k,A,C=[],S=new Map,D=t[1];const F=t=>t[6].footyWebNumber;for(let e=0;e<D.length;e+=1){let r=At(t,D,e),a=F(r);S.set(a,C[e]=St(a,r))}let M=null;return D.length||(M=Ct()),{c(){e=a("div"),r=a("div"),s=a("label"),i=y("Find Players"),d=n(),$=a("input"),v=n(),x=a("div");for(let t=0;t<C.length;t+=1)C[t].c();M&&M.c(),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=o(e);r=l(a,"DIV",{class:!0});var n=o(r);s=l(n,"LABEL",{class:!0,for:!0});var c=o(s);i=b(c,"Find Players"),c.forEach(u),d=f(n),$=l(n,"INPUT",{class:!0,type:!0,name:!0,id:!0}),n.forEach(u),v=f(a),x=l(a,"DIV",{class:!0});var m=o(x);for(let t=0;t<C.length;t+=1)C[t].l(m);M&&M.l(m),m.forEach(u),a.forEach(u),this.h()},h(){c(s,"class","text-lg text-grey-darkest"),c(s,"for","searchTerm"),c($,"class","border text-grey-darkest py-2 px-3"),c($,"type","text"),c($,"name","searchTerm"),c($,"id","searchTerm"),c(r,"class","flex flex-col mb-4"),c(x,"class","flex flex-wrap"),c(e,"class","container mx-auto xl:py-10")},m(a,n){m(a,e,n),h(e,r),h(r,s),h(s,i),h(r,d),h(r,$),N($,t[0]),h(e,v),h(e,x);for(let t=0;t<C.length;t+=1)C[t].m(x,null);M&&M.m(x,null),P=!0,k||(A=[w($,"input",t[4]),w($,"input",t[2])],k=!0)},p(t,[e]){if(1&e&&$.value!==t[0]&&N($,t[0]),2&e){const r=t[1];T(),C=j(C,e,F,1,t,r,S,x,W,St,null,At),E(),r.length?M&&(M.d(1),M=null):M||(M=Ct(),M.c(),M.m(x,null))}},i(t){if(!P){for(let t=0;t<D.length;t+=1)p(C[t]);P=!0}},o(t){for(let t=0;t<C.length;t+=1)g(C[t]);P=!1},d(t){t&&u(e);for(let t=0;t<C.length;t+=1)C[t].d();M&&M.d(),k=!1,I(A)}}}function Ft(t,e,r){let{state:a}=e,s="",n=[];const l=wt((()=>{return r(1,(t=ct(at(s)),n=t.length<2?[]:Q(a.players,(({searchTerms:e})=>It(e,t)))));var t}),250,{maxWait:1e3});return P.set("Search"),t.$$set=t=>{"state"in t&&r(3,a=t.state)},[s,n,l,a,function(){s=this.value,r(0,s)}]}class Mt extends t{constructor(t){super(),e(this,t,Ft,Dt,r,{state:3})}}function Bt(t){let e,r;return e=new Mt({props:{state:t[0]}}),{c(){s(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,a){d(e,t,a),r=!0},p(t,[r]){const a={};1&r&&(a.state=t[0]),e.$set(a)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){$(e,t)}}}function Lt(t,e){return{state:{players:z(Q(A,(({status:t})=>"Insured"===t||"Registered"===t||"Recent"===t)),xt)}}}function Rt(t,e,r){let{state:a=null}=e;return k((()=>window.scrollTo(0,0))),t.$$set=t=>{"state"in t&&r(0,a=t.state)},[a]}export default class extends t{constructor(t){super(),e(this,t,Rt,Bt,r,{state:0})}}export{Lt as preload};
