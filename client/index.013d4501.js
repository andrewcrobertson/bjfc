import{S as t,i as e,s as r,h as a,y as n,j as s,k as l,l as i,z as o,o as f,n as u,p as c,u as m,A as h,v as d,B as p,C as v,D as g,c as $,M as x,t as y,m as N,N as b,O as w,G as j,P as T,H as E,Q as P,x as W,R as A,E as C}from"./client.8b052df6.js";import{d as I}from"./players.0be11f4c.js";import{v as k,i as D,w as M,x as S,t as B,y as L,z as R,A as V,B as z,m as F,C as G,k as O,d as _,u as H,l as Q,s as U}from"./map.0e755dd5.js";import{f as q}from"./filter.a16a08c4.js";import{j as J,_ as K,a as X,A as Y,b as Z}from"./theme.3ca8fc53.js";import"./index.b625b74e.js";import{P as tt}from"./index.16e378ce.js";import{_ as et,a as rt,t as at}from"./toInteger.46e31d49.js";import{c as nt,i as st}from"./isString.a90ec20d.js";import{P as lt}from"./index.47e1a476.js";import"./index.d1e96649.js";var it=k?k.isConcatSpreadable:void 0;var ot=function(t){return D(t)||M(t)||!!(it&&t&&t[it])};var ft=function t(e,r,a,n,s){var l=-1,i=e.length;for(a||(a=ot),s||(s=[]);++l<i;){var o=e[l];r>0&&a(o)?r>1?t(o,r-1,a,n,s):S(s,o):n||(s[s.length]=o)}return s};var ut=function(t){return(null==t?0:t.length)?ft(t,1):[]};var ct=function(){var t=arguments,e=B(t[0]);return t.length<3?e:e.replace(t[1],t[2])};var mt=function(t){return B(t).toLowerCase()};var ht=function(t){return t!=t};var dt=function(t,e,r){for(var a=r-1,n=t.length;++a<n;)if(t[a]===e)return a;return-1};var pt=function(t,e,r){return e==e?dt(t,e,r):et(t,ht,r)};var vt=function(t,e){return!!(null==t?0:t.length)&&pt(t,e,0)>-1};var gt=function(t,e,r){for(var a=-1,n=null==t?0:t.length;++a<n;)if(r(e,t[a]))return!0;return!1};var $t=function(){},xt=L&&1/R(new L([,-0]))[1]==1/0?function(t){return new L(t)}:$t;var yt=function(t,e,r){var a=-1,n=vt,s=t.length,l=!0,i=[],o=i;if(r)l=!1,n=gt;else if(s>=200){var f=e?null:xt(t);if(f)return R(f);l=!1,n=z,o=new V}else o=e?[]:i;t:for(;++a<s;){var u=t[a],c=e?e(u):u;if(u=r||0!==u?u:0,l&&c==c){for(var m=o.length;m--;)if(o[m]===c)continue t;e&&o.push(c),i.push(u)}else n(o,c,r)||(o!==i&&o.push(c),i.push(u))}return i};var Nt=function(t){return t&&t.length?yt(t):[]};const bt=t=>{if(0===t.length)return null;const e=t[0];if(1===t.length)return`${e.firstName} ${e.lastName}`;if(t.length>=2){const r=t[1];return e.lastName===r.lastName?e.firstName===r.firstName?`${e.firstName} ${e.lastName}`:`${e.firstName} & ${r.firstName} ${r.lastName}`:`${e.firstName} ${e.lastName} & ${r.firstName} ${r.lastName}`}},wt=t=>{const e=q(t.contacts,(({type:t})=>"Guardian"===t)),r=F(e,(({name:t,gender:e})=>({firstName:t.first,lastName:t.last,gender:e}))),a=[t.firstName,t.lastName],n=ut(F(r,(({firstName:t,lastName:e})=>[t,e]))),s=J(Nt(F(nt([...a,...n]),(t=>mt(ct(t,/\s/g,""))))).sort()," ");return{footyWebNumber:t.footyWebNumber,status:t.status,initials:t.initials,lastName:t.lastName,firstName:t.firstName,gender:t.gender,guardians:bt(r),searchTerms:s}};var jt=function(){return G.Date.now()},Tt=Math.max,Et=Math.min;var Pt=function(t,e,r){var a,n,s,l,i,o,f=0,u=!1,c=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var r=a,s=n;return a=n=void 0,f=e,l=t.apply(s,r)}function d(t){return f=t,i=setTimeout(v,e),u?h(t):l}function p(t){var r=t-o;return void 0===o||r>=e||r<0||c&&t-f>=s}function v(){var t=jt();if(p(t))return g(t);i=setTimeout(v,function(t){var r=e-(t-o);return c?Et(r,s-(t-f)):r}(t))}function g(t){return i=void 0,m&&a?h(t):(a=n=void 0,l)}function $(){var t=jt(),r=p(t);if(a=arguments,n=this,o=t,r){if(void 0===i)return d(o);if(c)return clearTimeout(i),i=setTimeout(v,e),h(o)}return void 0===i&&(i=setTimeout(v,e)),l}return e=rt(e)||0,O(r)&&(u=!!r.leading,s=(c="maxWait"in r)?Tt(rt(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m),$.cancel=function(){void 0!==i&&clearTimeout(i),f=0,a=o=n=i=void 0},$.flush=function(){return void 0===i?l:g(jt())},$};var Wt=function(t,e){return _(e,(function(e){return t[e]}))};var At=function(t){return null==t?[]:Wt(t,H(t))},Ct=Math.max;var It=function(t,e,r,a){t=Q(t)?t:At(t),r=r&&!a?at(r):0;var n=t.length;return r<0&&(r=Ct(n+r,0)),st(t)?r<=n&&t.indexOf(e,r)>-1:!!n&&pt(t,e,r)>-1};var kt=function(t,e){for(var r=t.length;r--&&pt(e,t[r],0)>-1;);return r};var Dt=function(t,e){for(var r=-1,a=t.length;++r<a&&pt(e,t[r],0)>-1;);return r},Mt=/^\s+|\s+$/g;var St=function(t,e,r){if((t=B(t))&&(r||void 0===e))return t.replace(Mt,"");if(!t||!(e=U(e)))return t;var a=K(t),n=K(e),s=Dt(a,n),l=kt(a,n)+1;return X(a,s,l).join("")};function Bt(t){let e,r,$,x,y,N,b,w,j;return r=new Y({props:{colour:t[6],initials:t[2],text:t[3]}}),y=new lt({props:{class:"self-end",iconClass:"text-"+t[6]+"-500",status:t[4]}}),b=new tt({props:{class:"self-end",iconClass:"text-"+t[6]+"-500",text:t[1].guardians}}),{c(){e=a("a"),n(r.$$.fragment),$=s(),x=a("span"),n(y.$$.fragment),N=s(),n(b.$$.fragment),this.h()},l(t){e=l(t,"A",{class:!0,href:!0});var a=i(e);o(r.$$.fragment,a),$=f(a),x=l(a,"SPAN",{class:!0});var n=i(x);o(y.$$.fragment,n),N=f(n),o(b.$$.fragment,n),n.forEach(u),a.forEach(u),this.h()},h(){c(x,"class","flex flex-col text-sm"),c(e,"class",w=t[0]+" flex flex-col sm:flex-row sm:justify-between p-2"),c(e,"href",t[5])},m(t,a){m(t,e,a),h(r,e,null),d(e,$),d(e,x),h(y,x,null),d(x,N),h(b,x,null),j=!0},p(t,[r]){const a={};2&r&&(a.text=t[1].guardians),b.$set(a),(!j||1&r&&w!==(w=t[0]+" flex flex-col sm:flex-row sm:justify-between p-2"))&&c(e,"class",w)},i(t){j||(p(r.$$.fragment,t),p(y.$$.fragment,t),p(b.$$.fragment,t),j=!0)},o(t){v(r.$$.fragment,t),v(y.$$.fragment,t),v(b.$$.fragment,t),j=!1},d(t){t&&u(e),g(r),g(y),g(b)}}}function Lt(t,e,r){var a;let{class:n=""}=e,{player:s}=e;const l=s.initials,i=`${s.lastName}, ${s.firstName}`,o=s.status,f=$(s.footyWebNumber),u=null!==(a=Z[s.gender])&&void 0!==a?a:"gray";return t.$$set=t=>{"class"in t&&r(0,n=t.class),"player"in t&&r(1,s=t.player)},[n,s,l,i,o,f,u]}class Rt extends t{constructor(t){super(),e(this,t,Lt,Bt,r,{class:0,player:1})}}function Vt(t,e,r){const a=t.slice();return a[6]=e[r],a[8]=r,a}function zt(t){let e,r;return{c(){e=a("p"),r=y("No players match your current search"),this.h()},l(t){e=l(t,"P",{class:!0});var a=i(e);r=N(a,"No players match your current search"),a.forEach(u),this.h()},h(){c(e,"class","text-sm p-4")},m(t,a){m(t,e,a),d(e,r)},d(t){t&&u(e)}}}function Ft(t,e){let r,a,s;return a=new Rt({props:{class:"w-full "+(0===e[8]?"border-t":"")+" border-r border-b border-l border-gray-300",player:e[6]}}),{key:t,first:null,c(){r=x(),n(a.$$.fragment),this.h()},l(t){r=x(),o(a.$$.fragment,t),this.h()},h(){this.first=r},m(t,e){m(t,r,e),h(a,t,e),s=!0},p(t,e){const r={};2&e&&(r.class="w-full "+(0===t[8]?"border-t":"")+" border-r border-b border-l border-gray-300"),2&e&&(r.player=t[6]),a.$set(r)},i(t){s||(p(a.$$.fragment,t),s=!0)},o(t){v(a.$$.fragment,t),s=!1},d(t){t&&u(r),g(a,t)}}}function Gt(t){let e,r,n,o,h,g,$,x,W,C,I,k=[],D=new Map,M=t[1];const S=t=>t[6].footyWebNumber;for(let e=0;e<M.length;e+=1){let r=Vt(t,M,e),a=S(r);D.set(a,k[e]=Ft(a,r))}let B=null;return M.length||(B=zt()),{c(){e=a("div"),r=a("div"),n=a("label"),o=y("Find Players"),h=s(),g=a("input"),$=s(),x=a("div");for(let t=0;t<k.length;t+=1)k[t].c();B&&B.c(),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=i(e);r=l(a,"DIV",{class:!0});var s=i(r);n=l(s,"LABEL",{class:!0,for:!0});var c=i(n);o=N(c,"Find Players"),c.forEach(u),h=f(s),g=l(s,"INPUT",{class:!0,type:!0,name:!0,id:!0}),s.forEach(u),$=f(a),x=l(a,"DIV",{class:!0});var m=i(x);for(let t=0;t<k.length;t+=1)k[t].l(m);B&&B.l(m),m.forEach(u),a.forEach(u),this.h()},h(){c(n,"class","text-lg text-grey-darkest"),c(n,"for","searchTerm"),c(g,"class","border text-grey-darkest py-2 px-3"),c(g,"type","text"),c(g,"name","searchTerm"),c(g,"id","searchTerm"),c(r,"class","flex flex-col mb-4"),c(x,"class","flex flex-wrap"),c(e,"class","container mx-auto xl:py-10")},m(a,s){m(a,e,s),d(e,r),d(r,n),d(n,o),d(r,h),d(r,g),b(g,t[0]),d(e,$),d(e,x);for(let t=0;t<k.length;t+=1)k[t].m(x,null);B&&B.m(x,null),W=!0,C||(I=[w(g,"input",t[4]),w(g,"input",t[2])],C=!0)},p(t,[e]){if(1&e&&g.value!==t[0]&&b(g,t[0]),2&e){const r=t[1];j(),k=T(k,e,S,1,t,r,D,x,A,Ft,null,Vt),E(),r.length?B&&(B.d(1),B=null):B||(B=zt(),B.c(),B.m(x,null))}},i(t){if(!W){for(let t=0;t<M.length;t+=1)p(k[t]);W=!0}},o(t){for(let t=0;t<k.length;t+=1)v(k[t]);W=!1},d(t){t&&u(e);for(let t=0;t<k.length;t+=1)k[t].d();B&&B.d(),C=!1,P(I)}}}function Ot(t,e,r){let{state:a}=e,n="",s=[];const l=Pt((()=>{return r(1,(t=mt(St(n)),s=t.length<2?[]:q(a.players,(({searchTerms:e})=>It(e,t)))));var t}),250,{maxWait:1e3});return W.set("Search"),t.$$set=t=>{"state"in t&&r(3,a=t.state)},[n,s,l,a,function(){n=this.value,r(0,n)}]}class _t extends t{constructor(t){super(),e(this,t,Ot,Gt,r,{state:3})}}function Ht(t){let e,r;return e=new _t({props:{state:t[0]}}),{c(){n(e.$$.fragment)},l(t){o(e.$$.fragment,t)},m(t,a){h(e,t,a),r=!0},p(t,[r]){const a={};1&r&&(a.state=t[0]),e.$set(a)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function Qt(t,e){return{state:{players:F(q(I,(({status:t})=>"Insured"===t||"Registered"===t||"Recent"===t)),wt)}}}function Ut(t,e,r){let{state:a=null}=e;return C((()=>window.scrollTo(0,0))),t.$$set=t=>{"state"in t&&r(0,a=t.state)},[a]}export default class extends t{constructor(t){super(),e(this,t,Ut,Ht,r,{state:0})}}export{Qt as preload};
